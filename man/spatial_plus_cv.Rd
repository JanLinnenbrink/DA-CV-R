% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/spatial_plus_cv.R
\name{spatial_plus_cv}
\alias{spatial_plus_cv}
\title{Spatially-Aware Cross-Validation (SP-CV) Split}
\usage{
spatial_plus_cv(
  samples,
  response_name,
  cate_col_start = 0,
  cate_col_end = 0,
  k = 5,
  sp_threshold = 1,
  method = c("SP", "SP1", "SP2")
)
}
\arguments{
\item{samples}{An \code{sf} object containing point geometries and a unique ID column.}

\item{response_name}{A data frame or matrix with target variable(s) (first column must match point IDs,
last column treated as the target).}

\item{cate_col_start}{Integer, index of first categorical column in \code{env} (1-based).}

\item{cate_col_end}{Integer, index of last categorical column in \code{env} (1-based).}

\item{k}{Integer, number of folds/clusters.}

\item{sp_threshold}{Numeric, spatial distance threshold for hierarchical clustering (default 1).
If set to 0, each point is its own cluster (SP2).}

\item{method}{Character, one of \code{"SP"}, \code{"SP1"}, or \code{"SP2"}.}

\item{env}{A data frame or matrix of environmental variables (first column must match point IDs).}
}
\value{
A data frame with columns:
\itemize{
\item \code{ID} - Original point ID
\item \code{fold} - Assigned fold label
\item \code{cluster} - Assigned cluster ID
}
}
\description{
Performs spatially-aware cross-validation (SP-CV) by splitting samples into folds.
Supports three methods:
\itemize{
\item \strong{"SP1"}: Stage 1 spatial CV (hierarchical clustering, clusters assigned randomly to folds).
\item \strong{"SP2"}: Each point treated as a cluster (finest granularity).
\item \strong{"SP"}: General SP-CV with hierarchical clustering, k-means/k-modes,
and ensemble majority voting over coordinates, environment, and target values.
}
}
\examples{
\dontrun{
library(sf)
pts <- st_as_sf(data.frame(ID = 1:10, x = runif(10), y = runif(10)), 
                coords = c("x", "y"), crs = 4326)
env <- data.frame(ID = 1:10, var1 = rnorm(10), var2 = runif(10), target = runif(10))
pts <- cbind(pts, env)
response_name <- "target"

folds <- spatial_plus_cv(samples = pts, response_name = response_name,
                        cate_col_start = 0, cate_col_end = 0,
                        k = 3, sp_threshold = 1, method = "SP")
}
}
