% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/da_cv.R
\name{DA_CV}
\alias{DA_CV}
\title{Domain Adaptive Cross-Validation (DA-CV)}
\usage{
DA_CV(
  samples,
  target,
  env_stack,
  nodata_value,
  out_path,
  folds_k,
  cate_num,
  autoc_threshold
)
}
\arguments{
\item{samples}{An \code{sf} object. Must contain sample locations (POINT geometry)
and attributes including target variable and (optionally) sample IDs.}

\item{target}{A \code{SpatRaster}. Target raster (e.g., biomass).}

\item{env_stack}{A \code{SpatRaster}. Stack of environmental predictor rasters.}

\item{nodata_value}{Numeric. Value in \code{target} that indicates missing data.}

\item{out_path}{Character. Directory to write outputs.}

\item{folds_k}{Integer. Number of folds for cross-validation.}

\item{cate_num}{Integer. Number of categories for SP-CV stratification.}

\item{autoc_threshold}{Numeric. Spatial autocorrelation threshold for SP-CV.}
}
\value{
A data frame with DA-CV fold assignments and sample coordinates.
Additionally writes probability and category rasters, and a CSV with fold assignments.
}
\description{
Implements prediction-domain adaptive cross-validation (DA-CV) as described in
Zhao et al. (2025). This method combines random-domain cross-validation (RDM-CV)
for "similar" prediction regions and spatial cross-validation (SP-CV) for
"dissimilar" prediction regions, based on dissimilarity quantification via
adversarial validation.
}
\examples{
\dontrun{
library(sf)
library(terra)
samples <- st_read("samples.shp")
target <- rast("agb.tif")
envs <- rast(list.files("env/", pattern="tif$", full.names=TRUE))

DA_CV(samples, target, envs, -9999, "outputs/", 5, 5, 0.3)
}

}
